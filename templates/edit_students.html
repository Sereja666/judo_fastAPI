<!-- templates/edit_students.html -->
{% extends "base.html" %}

{% block title %}Редактирование данных учеников{% endblock %}

{% block content %}
<h1>Редактирование данных учеников</h1>

<!-- Блок выбора ученика -->
{% include "partials/edit_students/student_selection.html" %}

<!-- Карточка ученика -->
<div id="studentCard" class="student-card hidden">
    <h3>Карточка ученика</h3>
    <form id="studentForm">
        <input type="hidden" id="studentId" name="student_id">

        <!-- Основная информация -->
        {% include "partials/edit_students/basic_info.html" %}

        <!-- Тренеры -->
        {% include "partials/edit_students/trainers.html" %}

        <!-- Оплата -->
        {% include "partials/edit_students/payment.html" %}

        <!-- Медицинские справки -->
        {% include "partials/edit_students/medical_certificates.html" %}

        <!-- Награды и достижения -->
        {% include "partials/edit_students/awards.html" %}

        <!-- JavaScript для родителей -->
        {% include "partials/edit_students/parents_js.html" %}
        {% endblock %}

        <button type="submit" class="btn btn-primary btn-lg">
            <i class="fas fa-save"></i>
            Сохранить изменения
        </button>
        <a href="/" class="btn btn-secondary">← Назад к расписанию</a>
    </form>
</div>

<div id="message" class="mt-3"></div>

<!-- Модальные окна -->
{% include "partials/modals/certificate_modal.html" %}
{% include "partials/modals/award_modal.html" %}
{% endblock %}

{% block scripts %}
<!-- Основной JavaScript -->
{% include "partials/edit_students/main_js.html" %}

<!-- JavaScript для медицинских справок -->
{% include "partials/edit_students/certificates_js.html" %}

<!-- JavaScript для наград -->
{% include "partials/edit_students/awards_js.html" %}
{% endblock %}

{% block styles %}
<style>
.hidden {
    display: none !important;
}

.card.border-danger {
    border: 2px solid #dc3545 !important;
}

.badge.text-success {
    background-color: #d1e7dd;
    color: #0f5132;
}

.badge.text-danger {
    background-color: #f8d7da;
    color: #721c24;
}

.student-card.hidden {
    display: none;
}

/* Стили для модального окна */
.modal-header {
    background-color: #f8f9fa;
    border-bottom: 1px solid #dee2e6;
}

.modal-footer {
    border-top: 1px solid #dee2e6;
}

/* Увеличим немного кнопку редактирования */
.btn-sm {
    padding: 0.25rem 0.5rem;
    font-size: 0.875rem;
}
</style>
{% endblock %}